{"version":3,"sources":["MyUrlField.js","users.js","authProvider.js","App.js","index.js"],"names":["useStyles","makeStyles","link","textDecoration","icon","width","paddingLeft","MyUrlField","record","source","classes","href","className","UserList","props","isSmall","useMediaQuery","theme","breakpoints","down","List","SimpleList","primaryText","name","secondaryText","role","tertiaryText","password","Datagrid","rowClick","TextField","EmailField","UserCreate","Create","SimpleForm","TextInput","label","UserEdit","Edit","disabled","login","username","auth","fetch","then","resp","json","out","localStorage","setItem","Promise","resolve","reject","logout","removeItem","checkError","status","checkAuth","getItem","getPermissions","dataProvider","jsonServerProvider","App","Admin","authProvider","Resource","UserIcon","edit","create","list","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1d6d911b.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport LunchIcon from '@material-ui/icons/Launch';\r\n\r\nconst useStyles = makeStyles({\r\n  link:{\r\n    textDecoration: 'none',\r\n  },\r\n  icon:{\r\n    width: '0.5rem',\r\n    paddingLeft: 2\r\n  }\r\n})\r\n\r\nconst MyUrlField = ({record = {}, source}) =>{\r\n  const classes = useStyles();\r\n  return (<a href={record[source]} className={classes.link}>\r\n    {record[source]}\r\n    <LunchIcon className={classes.icon}/>\r\n  </a>)\r\n}\r\n\r\nexport default MyUrlField;","import React from 'react';\r\nimport {\r\n  List,\r\n  Datagrid, TextField, EmailField,\r\n  UrlField, Create, SimpleForm,\r\n  TextInput, Edit, ReferenceField, SimpleList, SelectInput, ReferenceInput\r\n} from 'react-admin';\r\nimport MyUrlField from \"./MyUrlField\";\r\nimport {useMediaQuery} from \"@material-ui/core\";\r\n\r\nexport const UserList = props => {\r\n  const isSmall = useMediaQuery(theme => theme.breakpoints.down('sm'));\r\n  \r\n  return (\r\n    <List {...props}>\r\n      {\r\n        isSmall ? (\r\n          <SimpleList\r\n            primaryText={record => record.name}\r\n            secondaryText={record => record.role}\r\n            tertiaryText={record => record.password}\r\n          />\r\n        ) : (\r\n          <Datagrid rowClick='edit'>\r\n            <TextField source='id'/>\r\n            <TextField source='name'/>\r\n            <TextField source='role'/>\r\n            <TextField source='username'/>\r\n            <EmailField source='email'/>\r\n            <TextField source='phone'/>\r\n        </Datagrid>)\r\n      }\r\n    </List>\r\n  )\r\n}\r\n\r\nexport const UserCreate = props =>(\r\n    <Create {...props}>\r\n      <SimpleForm>\r\n        <TextInput label=\"id\" source=\"id\"/>\r\n        <TextInput label=\"Имя полное\" source=\"name\"/>\r\n        <TextInput label=\"Псевдоним\" source='username'/>\r\n        <EmailField source='email'/>\r\n        <TextInput source='address.street' label='Address'/>\r\n        <TextInput source='phone'/>\r\n        {/*<UrlField source='website' />*/}\r\n        <MyUrlField source='website'/>\r\n        <TextField source='company.name' label='Company'/>\r\n      </SimpleForm>\r\n    </Create>\r\n  )\r\n\r\nexport const UserEdit = props =>(\r\n  <Edit {...props}>\r\n    <SimpleForm>\r\n      <TextInput disabled label=\"id\" source=\"id\"/>\r\n      <TextInput label=\"Имя полное\" source=\"name\"/>\r\n      <TextInput label=\"Псевдоним\" source='username'/>\r\n      <TextInput label=\"Пароль\" source='password'/>\r\n      <TextInput source='email' label=\"почта\"/>\r\n      <TextInput source='address.street' label='Адрес'/>\r\n      <TextInput source='phone'/>\r\n      {/*<UrlField source='website' />*/}\r\n      <MyUrlField source='website'/>\r\n      <TextField source='company.name' label='Company'/>\r\n    </SimpleForm>\r\n  </Edit>\r\n)\r\n  \r\n","export default {\r\n  login: ({username, password}) =>{\r\n    let auth = true\r\n    fetch(`http://localhost:3001/users?username=${username}`)\r\n      .then (resp => resp.json())\r\n      .then(out =>{\r\n        auth = out[0].password === password ? true : false;\r\n        localStorage.setItem('password' , out[0].password)\r\n      })\r\n    if (auth){\r\n      return Promise.resolve()\r\n    } else {\r\n      return Promise.reject()\r\n    }\r\n  },\r\n  logout:()=>{\r\n    localStorage.removeItem('password');\r\n    return Promise.resolve();\r\n  },\r\n  checkError:({status})=>{\r\n    if (status === '401' || status === '403') {\r\n      localStorage.removeItem('password');\r\n      return Promise.reject();\r\n    }\r\n    return Promise.resolve();\r\n  },\r\n  checkAuth: ()=>{\r\n    return localStorage.getItem('password')\r\n    ?Promise.resolve()\r\n      :Promise.reject()\r\n  },\r\n  getPermissions:()=>{\r\n    return Promise.resolve();\r\n  }\r\n}","import './App.css';\r\nimport {Admin, Resource, EditGuesser, ListGuesser} from 'react-admin';\r\nimport jsonServerProvider from 'ra-data-json-server';\r\nimport React from \"react\";\r\nimport {UserCreate, UserEdit, UserList} from \"./users\";\r\nimport PostIcon from '@material-ui/icons/Book';\r\nimport UserIcon from '@material-ui/icons/Group';\r\nimport {PostEdit, PostCreate, PostList, PostFilter} from './Posts'\r\nimport Dashboard from \"./Dashboard\";\r\nimport authProvider from \"./authProvider\";\r\nimport {RolesView} from './rolesView'\r\n\r\nconst dataProvider = jsonServerProvider('http://localhost:3001');\r\nconst App = () =>{\r\n  return(\r\n    <Admin dataProvider = {dataProvider} authProvider={authProvider}>\r\n      \r\n      <Resource\r\n        icon={UserIcon}\r\n        edit = {UserEdit}\r\n        create={UserCreate}\r\n        name='users'\r\n        list = {UserList}/>\r\n        \r\n        \r\n    </Admin>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}